% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/jam_se_detectrows.R
\name{se_detected_rows}
\alias{se_detected_rows}
\title{SummarizedExperiment heuristics to define detected rows}
\usage{
se_detected_rows(
  se,
  assay_name = 1,
  group_colnames,
  normgroup_colname = NULL,
  detect_mincounts = 0,
  detect_totalreps = 1,
  detect_minreps = 2,
  detect_minpct = 0.65,
  detect_mingroups = 1,
  isamples = colnames(se),
  verbose = FALSE,
  ...
)
}
\arguments{
\item{se}{\code{SummarizedExperiment} object}

\item{assay_name}{\code{character} or \code{integer} index, referring to the
entry in \code{assays(se)} to use when determining valid measurements.}

\item{group_colnames}{\code{character} vector of colnames in \code{colData(se)} which
defines sample grouping.}

\item{normgroup_colname}{\code{character} string with optional colname
in \code{colData(se)} to use for normgroups.}

\item{detect_mincounts}{\code{numeric} value at or above which a measurement
is considered "valid".}

\item{detect_totalreps}{\code{numeric} minimum total number of replicates
that must contain "valid" measurements.}

\item{detect_minreps}{\code{numeric} minimum replicates which must contain
"valid" measurements in any given sample group.}

\item{detect_minpct}{\code{numeric} minimum fraction of available replicates
in a sample group that must contain "valid" measurements.}

\item{detect_mingroups}{\code{numeric} minimum number of sample groups that
are considered "valid" based upon other criteria.}

\item{isamples}{\code{character} optional vector of \code{colnames(se)} to use
during this analysis. This vector is useful for example, when excluding
outlier samples that were defined by other methods.}

\item{verbose}{\code{logical} indicating whether to print verbose output.}

\item{...}{additional arguments are ignored.}
}
\value{
\code{list} with the following elements:
\itemize{
\item \code{detected_rows} is a \code{character} vector of detected \code{rownames(se)}
\item \code{detected_normgroup} is a \code{list} of \code{logical} vectors for each normgroup,
where the vectors encode whether a row is detected within each normgroup.
\item \code{detected_df} is a \code{data.frame} with summary information for each
normgroup.
}
}
\description{
SummarizedExperiment heuristics to define detected rows
}
\details{
This function is intended to help apply common logical rules
to define valid, "detected" rows for downstream analysis.

The rules:
\itemize{
\item minimum value at or above which a measurement is "valid"
\item minimum total replicates with "valid" measurement, across all sample columns
\item minimum replicates with "valid" measurement required in any sample group
\item minimum percent replicates with "valid" measurement required in any sample group
\item minimum sample groups with "valid" criteria above required
}
\subsection{Example}{

Consider an experiment with 7 groups, and n=3 replicates, which
contains 21 total samples.

Assume one row of data that contains 6 "valid" measurements.
\itemize{
\item If these 6 "valid" measurements are found in only 2 groups,
both groups contain n=3 "valid" measurements. This row may have
sufficient data for a statistical comparison across these two groups.
\item However, if the 6 "valid" measurements are also found across
6 different groups, it may not be suitable for statistical testing.
}
}

\subsection{Use of normgroups}{

Detection can be carried out within \code{"normgroups"}, which are
independent subsets of sample columns. In most cases this method
is not necessary, but is intended when the detected rows should
be independently calculated for two or more subsets of sample
columns.

A specific example might be an experiment that measures treatment
effects in two very different tissue types, like lung and muscle.
The detected genes in lung may well not be the same as detected
genes in lung. And in fact, statistical comparisons may not be intended
to compare muscle and lung directly. (That judgement is left
to the analyst.) One may define a column in \code{colData(se)} that represents
tissue type, with values \code{"muscle"}, and \code{"lung"}, then define
this column with argument \code{normgroup_colname}. The detection will
be done within each independent normgroup, returned as a \code{list}
named \code{"detected_normgroup"}. The detected rows are also combined
into \code{"detected_rows"} which returns rows detected across
all normgroups.
}
}
\seealso{
Other jamses SE utilities: 
\code{\link{make_se_test}()},
\code{\link{se_collapse_by_column}()},
\code{\link{se_collapse_by_row}()},
\code{\link{se_normalize}()},
\code{\link{se_rbind}()},
\code{\link{se_to_rowcoldata}()}
}
\concept{jamses SE utilities}
