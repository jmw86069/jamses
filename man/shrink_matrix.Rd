% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/jam_shrink_matrix.R
\name{shrink_matrix}
\alias{shrink_matrix}
\title{Shrink a numeric matrix by groups of rows}
\usage{
shrink_matrix(
  x,
  groupBy,
  shrink_func = function(x) {
     mean(x, na.rm = TRUE)
 },
  return_class = c("data.frame", "matrix"),
  verbose = FALSE,
  ...
)
}
\arguments{
\item{x}{\code{numeric} matrix}

\item{groupBy}{\code{character} or \code{factor} vector of group labels,
whose length equals \code{nrow(x)}.
These values will become rownames in the output data.}

\item{shrink_func}{\code{function} that takes vector input and returns
\strong{single value} output. The vector class can be checked, in order to
call a function on numeric or character data separately, as
needed.}

\item{return_class}{\code{character} string indicating the return data type.
\itemize{
\item \code{"data.frame"} returns a \code{data.frame} whose first column contains
entries from \code{groups}.
\item \code{"matrix"} returns a numeric matrix whose rownames are entries
from \code{groups}.
}}

\item{verbose}{logical indicating whether to print verbose output.}
}
\value{
\code{data.frame} or \code{matrix} based upon argument \code{return_class}.
}
\description{
Shrink a numeric matrix across groups of rows, by applying a summary
function.
}
\details{
This function is mainly a wrapper to use the amazingly fast
\code{data.table} package, with the ability to
provide a custom function to shrink row values.

The default function uses \code{mean(x, na.rm=TRUE)} so that \code{NA}
values are ignored where possible.

This function applies the same \code{shrink_func} to all columns, and
it optimal for \code{numeric} values. For more control over which
function to apply to specific columns, see \code{shrinkDataFrame()}.

Trivia:
This function is identical to \code{splicejam::shrinkDataFrame()} except
that the default \code{shrink_func} includes \code{na.rm=TRUE} and no
longer calls the \code{.Internal()} function, since that is not
permitted by CRAN package guidelines.
}
\seealso{
Other jamses utilities: 
\code{\link{choose_annotation_colnames}()},
\code{\link{contrast2comp_dev}()},
\code{\link{fold_to_log2fold}()},
\code{\link{intercalate}()},
\code{\link{list2im_opt}()},
\code{\link{log2fold_to_fold}()},
\code{\link{make_block_arrow_polygon}()},
\code{\link{mark_stat_hits}()},
\code{\link{matrix_normalize}()},
\code{\link{merge_statdf_all_test}()},
\code{\link{point_handedness}()},
\code{\link{point_slope_intercept}()},
\code{\link{shortest_unique_abbreviation}()},
\code{\link{shrinkDataFrame}()},
\code{\link{shrink_df}()},
\code{\link{sort_samples}()},
\code{\link{strsplitOrdered}()},
\code{\link{sub_split_vector}()},
\code{\link{update_function_params}()},
\code{\link{update_list_elements}()}
}
\concept{jamses utilities}
