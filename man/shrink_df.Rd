% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/jam_shrink_df_alt.R
\name{shrink_df}
\alias{shrink_df}
\title{Shrink data.frame by row groups}
\usage{
shrink_df(
  x,
  by,
  string_func = function(x) jamba::cPasteSU(x, na.rm = TRUE),
  num_func = function(x) mean(x, na.rm = TRUE),
  add_string_cols = NULL,
  num_to_string_func = as.character,
  keep_na_groups = TRUE,
  include_num_reps = FALSE,
  extra_funcs = NULL,
  do_test = FALSE,
  use_new_method = FALSE,
  verbose = FALSE,
  ...
)
}
\arguments{
\item{by}{\code{character} vector of one or more \code{colnames(df)}, used to define
the row grouping.}

\item{string_func}{\code{function} used for \code{character} and other non-numeric
column types.
For efficiency, \code{string_func} by default is applied to the entire
column, with \code{list} input, expecting \code{vector} output. It is not
applied using \code{data.table}.}

\item{num_func}{\code{function} used for \code{numeric} column types. This function
is applied using \code{data.table} and should expect a \code{vector} input,
and provide a single atomic value output.}

\item{extra_funcs}{\code{list}, default \code{NULL}, containing \code{function} objects.
The list names should match  \code{colnames(x)}, in order to apply a
function to a specific column in \code{x}.
These functions will therefore override the default functions defined
by \code{string_func} and \code{num_func}.
Only one function is applied per column.}

\item{do_test}{\code{logical}, default FALSE, indicating whether to perform an internal test
with internally-generated argument values.}

\item{use_new_method}{\code{logical} default FALSE, whether to call newer
tidy/data.table methods (TRUE), or call \code{shrinkDataFrame()} (FALSE).
Currently \code{shrinkDataFrame()} is remarkably faster.
More research necessary.}

\item{verbose}{\code{logical} indicating whether to print verbose output.}

\item{...}{additional arguments are ignored.}

\item{df}{\code{data.frame} or compatible input class.}
}
\description{
Shrink data.frame by row groups
}
\details{
This function is currently a wrapper for \code{shrinkDataFrame()},
it was formerly a simplified version of \code{shrinkDataFrame()}
which is intended to use more modern methods from the R package
\code{data.table}.

The general idea is to collapse \code{numeric} columns using \code{num_func},
and collapse \code{character} and all other columns using \code{string_func}.

Any exceptions, where a different function should be applied, are
passed via argument \code{extra_funcs} which is a \code{list} of functions
named by values in \code{colnames(df)}.
}
\seealso{
Other jamses utilities: 
\code{\link{choose_annotation_colnames}()},
\code{\link{contrast2comp_dev}()},
\code{\link{fold_to_log2fold}()},
\code{\link{intercalate}()},
\code{\link{list2im_opt}()},
\code{\link{log2fold_to_fold}()},
\code{\link{make_block_arrow_polygon}()},
\code{\link{mark_stat_hits}()},
\code{\link{matrix_normalize}()},
\code{\link{point_handedness}()},
\code{\link{point_slope_intercept}()},
\code{\link{shortest_unique_abbreviation}()},
\code{\link{shrinkDataFrame}()},
\code{\link{shrink_matrix}()},
\code{\link{sort_samples}()},
\code{\link{strsplitOrdered}()},
\code{\link{sub_split_vector}()},
\code{\link{update_function_params}()},
\code{\link{update_list_elements}()}
}
\concept{jamses utilities}
